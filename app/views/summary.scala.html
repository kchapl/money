@(summary: model.Summary)
@import org.joda.time.format.DateTimeFormat
@defining(DateTimeFormat.forPattern("EEE dd MMM yyyy")) { dateFormatter =>
    @defining(DateTimeFormat.forPattern("yyyyMMdd")) { dateParamFormatter =>

    <!DOCTYPE html>

        <html>
            <head>
                <title>Summary</title>
                <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/bootstrap.css")" />
            </head>
            <body>
                <p><b>@dateFormatter.print(summary.startDate) &mdash; @dateFormatter.print(summary.endDate)</b><br/>
                Last transaction: @summary.lastTransactionDate.map { date => @dateFormatter.print(date)}</p>
                <table class="table table-striped table-condensed">
                @for(categorySummary <- summary.categorySummaries) {
                    <tr>
                        <td><a href="@routes.Application.category(categorySummary.category, Some(dateParamFormatter.print(summary.startDate)), Some(dateParamFormatter.print(summary.endDate)), None)">@categorySummary.category</a></td>
                        <td>@categorySummary.currentAmount</td>
                        <td>@if(categorySummary.difference > 0) {<span class="glyphicon glyphicon-arrow-up" style="color:green">} else {@if(categorySummary.difference < 0) {<span class="glyphicon glyphicon-arrow-down" style="color:red">} else {<span class="glyphicon glyphicon-minus" style="color:#FFBF00">}} @categorySummary.difference (@categorySummary.percentageDifference%)</span></td>
                        <td>@categorySummary.yearDifference (@categorySummary.percentageYearDifference%)</td>
                    </tr>
                }
                </table>
                <p>@summary.paymentsTotalAmount</p>
                <p>@summary.depositsTotalAmount</p>
                <p>@summary.difference</p>
                <p>@summary.differencePreviousMonth</p>
                <p>@summary.percentageDifferencePreviousMonth</p>
                <p>@summary.differencePreviousYear</p>
                <p>@summary.percentageDifferencePreviousYear</p>
            </body>
        </html>
    }
}
